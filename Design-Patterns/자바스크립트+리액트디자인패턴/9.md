## CHAPTER 09. ë¹„ë™ê¸° í”„ë¡œê·¸ë˜ë° íŒ¨í„´
### 9.1 ë¹„ë™ê¸° í”„ë¡œê·¸ë˜ë°
- ìë°”ìŠ¤í¬ë¦½íŠ¸ì—ì„œ ë™ê¸° ì½”ë“œëŠ” ë¸”ë¡œí‚¹ ë°©ì‹ìœ¼ë¡œ ì‹¤í–‰ëœë‹¤.
- ë¹„ë™ê¸° ì½”ë“œëŠ” ë…¼ë¸”ë¡œí‚¹ ë°©ì‹ìœ¼ë¡œ ì‹¤í–‰ëœë‹¤.
```javascript
// (1) ë™ê¸° ì½”ë“œ
function synchronousFunction() {
  // ë™ê¸° í•¨ìˆ˜ ë™ì‘
}

synchronousFunction();
// -- ì´ ì¤„ì´ ì˜¤ê¸° ì „ì— í•¨ìˆ˜ ë‚´ë¶€ì˜ ì½”ë“œë¥¼ ì‹¤í–‰ --

// (2) ë¹„ë™ê¸° ì½”ë“œ
function asynchronousFunction() {
  // ë¹„ë™ê¸° í•¨ìˆ˜ ë™ì‘
}

asynchronousFunction();
// -- í•¨ìˆ˜ ë‚´ë¶€ì˜ ì½”ë“œëŠ” ë°±ê·¸ë¼ìš´ë“œì—ì„œ ì‹¤í–‰ë˜ë©° ì´ ì¤„ë¡œ ì œì–´ê¶Œì„ ë°˜í™˜ --
```

- ë¹„ë™ê¸° ì½”ë“œëŠ” ì¼ë°˜ì ìœ¼ë¡œ ì½”ë“œì˜ ë‚˜ë¨¸ì§€ ë¶€ë¶„ì„ ì°¨ë‹¨í•˜ì§€ ì•Šê³  ì˜¤ë˜ ì‹¤í–‰ë˜ëŠ” ì‘ì—…ì„ ìˆ˜í–‰í•  ë•Œ ìœ ìš©í•˜ë‹¤.

``` javascript
// (1) ì½œë°± ì‚¬ìš© ì˜ˆì‹œ
function makeRequest(url, callback) {
  fetch(url)
    .then(response => response.json())
    .then(data => callback(data))
    .catch(error => callback(error));
}

makeRequest('http://example.com', (error, data) => {
  if (error) {
    console.error(error);
  } else {
    console.log(data);
  }
});

// (2) promise ì‚¬ìš© ì˜ˆì‹œ
function makeRequest(url) {
  return new Promise((resolve, reject) => {
    fetch(url)
      .then(response => response.json())
      .then(data => resolve(data))
      .catch(error => reject(error));
  });
}

makeRequest('http://example.com')
  .then(data => console.log(data))
  .catch(error => console.error(error));

// (3) async/await ì‚¬ìš© ì˜ˆì‹œ
async function makeRequest(url) {
  try {
    const response = await fetch(url);
    const data = await response.json();
    console.log(data);
  } catch (error) {
    console.error(error);
  }
}

makeRequest('http://example.com');
```

### 9.2 ë°°ê²½
- ìë°”ìŠ¤í¬ë¦½íŠ¸ì—ì„œ ì½œë°± í•¨ìˆ˜ëŠ” ë‹¤ë¥¸ í•¨ìˆ˜ì— ì¸ìˆ˜ë¡œì„œ ì „ë‹¬ë˜ì–´, ë¹„ë™ê¸° ì‘ì—…ì´ ì™„ë£Œëœ í›„ ì‹¤í–‰ëœë‹¤.
- ì½œë°±ì„ ì‚¬ìš©í•  ë•Œì˜ ì£¼ìš” ë‹¨ì  ì¤‘ í•˜ë‚˜ëŠ” 'ì½œë°± ì§€ì˜¥'
- 'ì½œë°± ì§€ì˜¥': ì¤‘ì²©ëœ ì½œë°± êµ¬ì¡°ë¡œ ì¸í•´ ì½”ë“œì˜ ê°€ë…ì„±ê³¼ ìœ ì§€ë³´ìˆ˜ì„±ì´ í¬ê²Œ ì €í•˜ë˜ëŠ” ìƒí™©

### 9.3 í”„ë¡œë¯¸ìŠ¤ íŒ¨í„´
- í”„ë¡œë¯¸ìŠ¤ëŠ” ìë°”ìŠ¤í¬ë¦½íŠ¸ì—ì„œ ë¹„ë™ê¸° ì‘ì—…ì„ ì²˜ë¦¬í•˜ëŠ” ìµœì‹  ë°©ë²•ì´ë‹¤.
- í”„ë¡œë¯¸ìŠ¤ëŠ” ë¹„ë™ê¸° ì‘ì—…ì˜ ê²°ê³¼ë¥¼ ë‚˜íƒ€ë‚´ëŠ” ê°ì²´ë¡œ, ëŒ€ê¸°(pending) & ì™„ë£Œ(fulfilled) & ê±°ë¶€(rejected)ì˜ ì„¸ ê°€ì§€ ìƒíƒœë¥¼ ê°€ì§„ë‹¤.
- í”„ë¡œë¯¸ìŠ¤ì˜ ì¥ì ì€ ì½œë°±ë³´ë‹¤ ì²´ê³„ì ì´ê³  ê°€ë…ì„±ì´ ë†’ì€ ë°©ë²•ìœ¼ë¡œ ë¹„ë™ê¸° ì‘ì—…ì„ ì²˜ë¦¬í•  ìˆ˜ ìˆë‹¤ëŠ” ì ì´ë‹¤.

**9.3.1 í”„ë¡œë¯¸ìŠ¤ ì²´ì´ë‹**
- í”„ë¡œë¯¸ìŠ¤ ì²´ì´ë‹ íŒ¨í„´ì„ ì‚¬ìš©í•˜ë©´ ì—¬ëŸ¬ ê°œì˜ í”„ë¡œë¯¸ìŠ¤ë¥¼ í•¨ê»˜ ì—°ê²°í•˜ì—¬ ë³´ë‹¤ ë³µì¡í•œ ë¹„ë™ê¸° ë¡œì§ì„ ë§Œë“¤ ìˆ˜ ìˆë‹¤.
```javascript
function makeRequest(url) {
  return new Promise((resolve, reject) => {
    fetch(url)
      .then(response => response.json())
      .then(data => resolve(data))
      .catch(error => reject(error));
  });
}

function procesesData(data) {
  // process data
  return processedData;
}

makeRequest('http://example.com')
  .then(data => processData(data))
  .then(processedData => console.log(processedData))
  .catch(error => console.error(error));
```

**9.3.2 í”„ë¡œë¯¸ìŠ¤ ì—ëŸ¬ ì²˜ë¦¬**
- í”„ë¡œë¯¸ìŠ¤ ì—ëŸ¬ ì²˜ë¦¬ íŒ¨í„´ì€ `catch` ë©”ì„œë“œë¥¼ ì‚¬ìš©í•˜ì—¬ í”„ë¡œë¯¸ìŠ¤ ì²´ì¸ì˜ ì‹¤í–‰ ì¤‘ì— ë°œìƒí•  ìˆ˜ ìˆëŠ” ì—ëŸ¬ë¥¼ ì²˜ë¦¬í•œë‹¤.

**9.3.3 í”„ë¡œë¯¸ìŠ¤ ë³‘ë ¬ ì²˜ë¦¬**
- `Promise.all` ë©”ì„œë“œë¥¼ ì‚¬ìš©í•˜ì—¬ ì—¬ëŸ¬ í”„ë¡œë¯¸ìŠ¤ë¥¼ ë™ì‹œì— ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.
```javascript
Promise.all([
  makeRequest('http://example.com/1'),
  makeRequest('http://example.com/2')
]).then(([data1, data2]) => {
  console.log(data1, data2);
});
```
- `Promise.all`ì€ ë°°ì—´ ì¤‘ í•˜ë‚˜ë¼ë„ ì‘ì—…ì´ reject ë‹¹í•˜ë©´ ë°”ë¡œ catchë¡œ ê°€ë²„ë¦°ë‹¤. ê·¸ë˜ì„œ ë“±ì¥í•œ `Promise.allSettled`!
- `Promise.allSettled`ëŠ” ë³‘ë ¬ì ìœ¼ë¡œ ì²˜ë¦¬í•˜ë˜, í•˜ë‚˜ë¼ë„ ì‹¤íŒ¨í•´ë„ ë¬´ì¡°ê±´ ì´í–‰í•œë‹¤.
- ë°˜í™˜ê°’ì€ í”„ë¡œë¯¸ìŠ¤ë“¤ ê²°ê³¼ë¥¼ ë°°ì—´ë¡œ ë¦¬í„´í•œë‹¤.

**9.3.4 í”„ë¡œë¯¸ìŠ¤ ìˆœì°¨ ì‹¤í–‰**
- `Promise.resolve` ë©”ì„œë“œë¥¼ ì‚¬ìš©í•˜ì—¬ í”„ë¡œë¯¸ìŠ¤ë¥¼ ìˆœì°¨ì ìœ¼ë¡œ ì‹¤í–‰í•  ìˆ˜ ìˆê²Œ í•œë‹¤.
```javascript
Promise.resolve()
  .then(() => makeRequest1())
  .then(() => makeRequest2())
  .then(() => makeRequest3())
  .then(() => {
    // ëª¨ë“  ìš”ì²­ ì™„ë£Œ
  });
```

**9.3.5 í”„ë¡œë¯¸ìŠ¤ ë©”ëª¨ì´ì œì´ì…˜**
- í”„ë¡œë¯¸ìŠ¤ ë©”ëª¨ì´ì œì´ì…˜ íŒ¨í„´ì€ ìºì‹œë¥¼ ì‚¬ìš©í•˜ì—¬ í”„ë¡œë¯¸ìŠ¤ í•¨ìˆ˜ í˜¸ì¶œì˜ ê²°ê³¼ ê°’ì„ ì €ì¥í•œë‹¤.
- ì¤‘ë³µëœ ìš”ì²­ì„ ë°©ì§€
```javascript
const cache = new Map();

function memoizedMakeRequest(url) {
  if (cache.has(url)) {
    return cache.get(url);
  }
  
  return new Promise((resolve, reject) => {
    fetch(url)
      .then(response => response.json())
      .then(data => {
        cache.set(url, data);
        resolve(data);
      })
      .catch(error => reject(error));
  });
}

// ì‚¬ìš© ì˜ˆì œ
const button = document.querySelector('button');
button.addEventListener('click', () => {
  memoizedMakeRequest('http://example.com')
    .then(data => console.log(data))
    .catch(error => console.error(error))
});
```

**9.3.6 í”„ë¡œë¯¸ìŠ¤ íŒŒì´í”„ë¼ì¸**
- í”„ë¡œë¯¸ìŠ¤ íŒŒì´í”„ë¼ì¸ íŒ¨í„´ì€ í”„ë¡œë¯¸ìŠ¤ì™€ í•¨ìˆ˜í˜• í”„ë¡œê·¸ë˜ë° ê¸°ë²•ì„ í™œìš©í•˜ì—¬ ë¹„ë™ê¸° ì²˜ë¦¬ì˜ íŒŒì´í”„ë¼ì¸ì„ ìƒì„±í•œë‹¤.
```javascript
function transform1(data) {
  // ë°ì´í„° ë³€í™˜
  return transformedData;
}

function transform2(data) {
  // ë°ì´í„° ë³€í™˜
  return transformedData;
}

makeRequest('http://example.com')
  .then(data => pipeline(data)
    .then(transform1)
    .then(transform2))
  .then(transformedData => console.log(transformedData))
  .catch(error => console.error(error));
```

**9.3.7 í”„ë¡œë¯¸ìŠ¤ ì¬ì‹œë„**
- í”„ë¡œë¯¸ìŠ¤ê°€ ì‹¤íŒ¨í•  ë•Œ ë‹¤ì‹œ ì‹œë„í•  ìˆ˜ ìˆë‹¤.
```javascript
function makeRequestWithRetry(url) {
  let attempts = 0;
  
  const makeRequest = () => new Promise((resolve, reject) -> {
    fetch(url)
      .then(response => response.json())
      .then(data => resolve(data))
      .catch(error => reject(error));
  });

  const retry = error => {
    attempts++;
    if (attempts >= 3) {
      throw new Error('Request failed after 3 attempts.');
    }
    console.log(`Retrying request: attempt ${attempts}`);
    return makeRequest();
  };

  return makeRequest().catch(retry);
}
```

**9.3.8 í”„ë¡œë¯¸ìŠ¤ ë°ì½”ë ˆì´í„°**
- ê³ ì°¨ í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ì—¬ í”„ë¡œë¯¸ìŠ¤ì— ì ìš©í•  ìˆ˜ ìˆëŠ” ë°ì½”ë ˆì´í„°ë¥¼ ìƒì„±í•œë‹¤.
- ì´ë¥¼ í†µí•´ í”„ë¡œë¯¸ìŠ¤ì— ì¶”ê°€ì ì¸ ê¸°ëŠ¥ì„ ë¶€ì—¬í•  ìˆ˜ ìˆë‹¤.
```javascript
funtion logger(fn) {
  return function (...args) {
    console.log('Starting function...');
    return fn(...args).then(result => {
      console.log('Function completed.');
      return result;
    });
  };
}

const makeRequestWithLogger = logger(makeRequest);

makeRequestWithLogger('http://example.com')
  .then(data => console.log(data))
  .catch(error => console.error(error));
```

**9.3.9 í”„ë¡œë¯¸ìŠ¤ ê²½ìŸ**
- ì—¬ëŸ¬ í”„ë¡œë¯¸ìŠ¤ë¥¼ ë™ì‹œì— ì‹¤í–‰í•˜ê³  ê°€ì¥ ë¨¼ì € ì™„ë£Œë˜ëŠ” í”„ë¡œë¯¸ìŠ¤ì˜ ê²°ê³¼ë¥¼ ë°˜í™˜
```javascript
Promise.race([
  makeRequest('http://example.com/1')
  makeRequest('http://example.com/2')
]).then(data => {
  console.log(data);
});
```

### 9.4 async/await íŒ¨í„´
- async/awaitëŠ” í”„ë¡œë¯¸ìŠ¤ë¥¼ ê¸°ë°˜ìœ¼ë¡œ êµ¬ì¶•ë˜ì—ˆìœ¼ë©°, ë¹„ë™ê¸° ì½”ë“œ ì‘ì—…ì„ ë³´ë‹¤ ì‰½ê³  ê°„ê²°í•˜ê²Œ ë§Œë“¤ì–´ì¤€ë‹¤.

**9.4.1 ë¹„ë™ê¸° í•¨ìˆ˜ ì¡°í•©**
- ì—¬ëŸ¬ ë¹„ë™ê¸° í•¨ìˆ˜ë¥¼ ì¡°í•©í•˜ì—¬ ë³´ë‹¤ ë³µì¡í•œ ë¹„ë™ê¸° ë¡œì§ì„ êµ¬ì„±í•˜ëŠ” ê²ƒ
```javascript
async function makeRequest(url) {
  const response = await fetch(url);
  const data = await response.json();
  return data;
}

async function processData(data) {
  // ë°ì´í„° ì²˜ë¦¬
  return processedData;
}

async function main() {
  const data = await makeRequest('http://example.com');
  const processedData = await processData(data);
  console.log(processedData);
}
```

**9.4.2 ë¹„ë™ê¸° ë°˜ë³µ**
- `for-await-of`
```javascript
async function* createAsyncIterable() {
  yield 1;
  yield 2;
  yield 3;
}

async function main() {
  for await(const value of createAsyncIterable()) {
    console.log(value);
  }
}
```

**9.4.3 ë¹„ë™ê¸° ì—ëŸ¬ ì²˜ë¦¬**
- `try-catch` ì‚¬ìš©

**9.4.4 ë¹„ë™ê¸° ë³‘ë ¬**
- `Promise.all` ì‚¬ìš©
```javascript
async function main() {
  const [data1, data2] = await Promise.all([
    makeRequest('http://example.com/1'),
    makeRequest('http://example.com.2')
  ]);
  
  console.log(data1, data2);
}
```

**9.4.5 ë¹„ë™ê¸° ìˆœì°¨ ì‹¤í–‰**
- `Promise.resolve` ë©”ì„œë“œ ì‚¬ìš©

**9.4.6 ë¹„ë™ê¸° ë©”ëª¨ì´ì œì´ì…˜**
- ìºì‹œë¥¼ ì‚¬ìš©í•´ ë¹„ë™ê¸° í•¨ìˆ˜ í˜¸ì¶œ ê²°ê³¼ë¥¼ ì €ì¥í•˜ì—¬ ì¤‘ë³µ ìš”ì²­ ë°©ì§€

**9.4.7 ë¹„ë™ê¸° ì´ë²¤íŠ¸ ì²˜ë¦¬**
- ë¹„ë™ê¸° í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ì—¬ ì´ë²¤íŠ¸ë¥¼ ì²˜ë¦¬í•  ìˆ˜ ìˆë„ë¡ í•œë‹¤.

**9.4.8 async/await íŒŒì´í”„ë¼ì¸**
- async/awaitì™€ í•¨ìˆ˜í˜• í”„ë¡œê·¸ë˜ë° ê¸°ë²•ì„ í™œìš©í•˜ì—¬ ë¹„ë™ê¸° ë³€í™˜ ì‘ì—…ë“¤ì˜ íŒŒì´í”„ë¼ì¸ì„ ìƒì„±í•œë‹¤.
```javascript
async function transform1(data) {
  // ë³€í˜•ëœ ë°ì´í„° ë°˜í™˜
  return transformedData;
}

async function transform2(data) {
  // ë³€í˜•ëœ ë°ì´í„° ë°˜í™˜
  return transformedData;
}

async function main() {
  const data = await makeRequest('http://example.com');
  const transformedData = await pipeline(data)
    .then(transform1)
    .then(transform2);
  
  console.log(transformedData);
}
```

**9.4.9 ë¹„ë™ê¸° ì¬ì‹œë„**
- ë¹„ë™ê¸° ì‘ì—…ì´ ì‹¤íŒ¨í•´ë„ ìë™ìœ¼ë¡œ ì¬ì‹œë„ í•  ìˆ˜ ìˆë‹¤.

**9.4.10 async/await ë°ì½”ë ˆì´í„°**
- ê³ ì°¨í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ì—¬ ë°ì½”ë ˆì´í„°ë¥¼ ìƒì„±í•œë‹¤.
```javascript
function asyncLogger(fn) {
  return async function(...args) {
    console.log('Starting async function...');
    const result = await fn(...args);
    console.log('Async function completed.');
    return result;
  };
}

@asyncLogger
async function main() {
  const data = await makeRequest('http://example.com');
  console.log(data);
}
```

### 9.5 ì‹¤ìš©ì ì¸ ì˜ˆì œ ë”ë³´ê¸°
- HTTP ìš”ì²­ ë³´ë‚´ê¸°
- íŒŒì¼ ì‹œìŠ¤í…œì—ì„œ íŒŒì¼ ì½ê¸°/ì“°ê¸°
- ì—¬ëŸ¬ ë¹„ë™ê¸° í•¨ìˆ˜ë¥¼ í•œ ë²ˆì— ì‹¤í–‰í•˜ê¸°
- ì—¬ëŸ¬ ë¹„ë™ê¸° í•¨ìˆ˜ë¥¼ ìˆœì„œëŒ€ë¡œ ì‹¤í–‰í•˜ê¸°
- í•¨ìˆ˜ì˜ ê²°ê³¼ë¥¼ ìºì‹±í•˜ê¸°
- async/awaitë¡œ ì´ë²¤íŠ¸ ì²˜ë¦¬í•˜ê¸°
- ë¹„ë™ê¸° í•¨ìˆ˜ ì‹¤íŒ¨ ì‹œ ìë™ìœ¼ë¡œ ì¬ì‹œë„í•˜ê¸°
- async/await ë°ì½”ë ˆì´í„° ì‘ì„±í•˜ê¸°

### ë‚´ ìƒê° ğŸ’­
ë¹„ë™ê¸° ì‘ì—…ì„ ì²˜ë¦¬í•  ìˆ˜ ìˆëŠ” ì—¬ëŸ¬ ë°©ë²•ë“¤ì„ ì •ë¦¬í•  ìˆ˜ ìˆì–´ ì¢‹ì•˜ë‹¤.
`Promise`ì™€ `async/await`ì€ ì§ì ‘ êµ¬í˜„í•´ë³´ë©° ë™ì‘ ë°©ì‹ì„ ë” ê¹Šê²Œ ì´í•´í•´ë³´ê³ ì í•œë‹¤!
ë˜í•œ, TS ë°ì½”ë ˆì´í„° íŒ¨í„´ì„ ì²˜ìŒ ì•Œê²Œë˜ì—ˆëŠ”ë° ì¢€ ë” ê³µë¶€ë¥¼ í•´ì„œ ìœ ìš©í•˜ê²Œ ì¨ë´ì•¼ê² ë‹¤!!
